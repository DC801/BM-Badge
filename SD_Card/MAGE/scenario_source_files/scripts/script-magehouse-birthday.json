{
	"on_load-magehouse-birthday": [
		{
			"action": "CHECK_SAVE_FLAG",
			"save_flag": "mtn-birthday-cutscene",
			"expected_bool": false,
			"success_script": "mtn-birthday-cutscene-start"
		}
	],
	"on_load-main2": [
		{
			"action": "CHECK_SAVE_FLAG",
			"save_flag": "mtn-escort-cutscene",
			"expected_bool": false,
			"success_script": "mtn-escort-cutscene-start"
		}
	],
	"mtn-birthday-cutscene-start": [
		{
			"action": "SET_PLAYER_CONTROL",
			"bool_value": false
		},
		{
			"action": "SET_HEX_EDITOR_STATE",
			"bool_value": false
		},
		{
			"action": "SET_ENTITY_CURRENT_ANIMATION",
			"byte_value": 0,
			"entity": "%PLAYER%"
		},
		{
			"action": "SCREEN_FADE_OUT",
			"duration": 0,
			"color": "#000000"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"direction": "east",
			"entity": "%PLAYER%"
		},
		{
			"action": "TELEPORT_CAMERA_TO_GEOMETRY",
			"geometry": "cake-camera-1"
		},
		{
			"action": "SET_ENTITY_CURRENT_ANIMATION",
			"byte_value": 1,
			"entity": "Stunt Cake"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 1000
		},
		{
			"action": "SCREEN_FADE_IN",
			"duration": 1000,
			"color": "#000000"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 500
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-mtn-birthday-song"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "PLAY_ENTITY_ANIMATION",
			"entity": "Stunt Cake",
			"animation": 2,
			"play_count": 1
		},
		{
			"action": "SET_ENTITY_CURRENT_ANIMATION",
			"byte_value": 3,
			"entity": "Stunt Cake"
		},
		{
			"action": "SCREEN_FADE_OUT",
			"duration": 0,
			"color": "#000000"
		},
		{
			"action": "TELEPORT_CAMERA_TO_GEOMETRY",
			"geometry": "cake-camera-2"
		},
		{
			"action": "SCREEN_FADE_IN",
			"duration": 500,
			"color": "#000000"
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-mtn-birthday-convo1"
		},
		{
			"action": "SCREEN_FADE_OUT",
			"duration": 500,
			"color": "#000000"
		},
		{
			"action": "SET_ENTITY_CURRENT_ANIMATION",
			"byte_value": 4,
			"entity": "Cake"
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-mtn-birthday-munch"
		},
		{
			"action": "SCREEN_FADE_IN",
			"duration": 1000,
			"color": "#000000"
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-mtn-birthday-convo2"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 600
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"direction": "south",
			"entity": "%PLAYER%"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 400
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-mtn-birthday-convo3"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"direction": "east",
			"entity": "%PLAYER%"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-mtn-birthday-convo4"
		},
		{
			"action": "SCREEN_FADE_OUT",
			"duration": 2000,
			"color": "#000000"
		},
		{
			"action": "SET_SAVE_FLAG",
			"save_flag": "mtn-birthday-cutscene",
			"bool_value": true
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 400
		},
		{
			"action": "LOAD_MAP",
			"map": "main2"
		}
	],
	"gossip-right-down": [
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 600
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "east"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 800
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "south"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 400
		}
	],
	"gossip-left-and-right-down": [
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "west"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 600
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "south"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 300
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "east"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 360
		}
	],
	"gossip-left-down": [
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "south"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 500
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "west"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 1100
		}
	],
	"mtn-escort-cutscene-start": [
		{
			"action": "SCREEN_FADE_OUT",
			"duration": 0,
			"color": "#000000"
		},
		{
			"action": "SET_PLAYER_CONTROL",
			"bool_value": false
		},
		{
			"action": "SET_HEX_EDITOR_STATE",
			"bool_value": false
		},
		{
			"action": "TELEPORT_ENTITY_TO_GEOMETRY",
			"geometry": "birthday-alfonso",
			"entity": "Alfonso"
		},
		{
			"action": "TELEPORT_ENTITY_TO_GEOMETRY",
			"geometry": "birthday-bert",
			"entity": "Bert"
		},
		{
			"action": "TELEPORT_ENTITY_TO_GEOMETRY",
			"geometry": "birthday-jackob",
			"entity": "Jackob"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"direction": "north",
			"entity": "Alfonso"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"direction": "north",
			"entity": "Bert"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"direction": "north",
			"entity": "Jackob"
		},
		{
			"action": "TELEPORT_CAMERA_TO_GEOMETRY",
			"geometry": "escort-camera"
		},
		{
			"action": "SCREEN_FADE_IN",
			"duration": 1000,
			"color": "#000000"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"direction": "south",
			"entity": "%PLAYER%"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 800
		},
		{
			"action": "TELEPORT_ENTITY_TO_GEOMETRY",
			"geometry": "enter_from-magehouse",
			"entity": "%PLAYER%"
		},
		{
			"action": "WALK_ENTITY_ALONG_GEOMETRY",
			"duration": 400,
			"geometry": "enter_from-magehouse",
			"entity": "%PLAYER%"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 1500
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-mtn-escort-convo1"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"script": "look-left-and-right-fast",
			"entity": "%PLAYER%"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 600
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-mtn-escort-convo2"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"script": "null_script",
			"entity": "%PLAYER%"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"direction": "south",
			"entity": "%PLAYER%"
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-mtn-escort-convo3"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"script": "look-left-and-right-fast",
			"entity": "%PLAYER%"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 600
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-mtn-escort-convo4"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"script": "null_script",
			"entity": "%PLAYER%"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"direction": "south",
			"entity": "%PLAYER%"
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-mtn-escort-convo5"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"direction": "south",
			"entity": "Alfonso"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 800
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-mtn-escort-convo6"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SET_ENTITY_DIRECTION_TARGET_ENTITY",
			"target_entity": "%PLAYER%",
			"entity": "Alfonso"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 400
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-mtn-escort-convo7"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"script": "gossip-right-down",
			"entity": "Jackob"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"script": "gossip-left-and-right-down",
			"entity": "Alfonso"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"script": "gossip-left-down",
			"entity": "Bert"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-mtn-escort-convo8"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 500
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"script": "null_script",
			"entity": "Alfonso"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"script": "null_script",
			"entity": "Jackob"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"script": "null_script",
			"entity": "Bert"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 100
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"direction": "north",
			"entity": "Alfonso"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 50
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"direction": "north",
			"entity": "Bert"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 40
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"direction": "north",
			"entity": "Jackob"
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-mtn-escort-convo9"
		},
		{
			"action": "RUN_SCRIPT",
			"script": "birthday-escort-cutscene-end"
		}
	],
	"birthday-escort-cutscene-end": [
		{
			"action": "SET_SAVE_FLAG",
			"save_flag": "mtn-escort-cutscene",
			"bool_value": true
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 160
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"script": "birthday-march-on-own-path",
			"entity": "Jackob"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 180
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"script": "birthday-march-on-own-path",
			"entity": "Alfonso"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 90
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"script": "birthday-march-on-own-path",
			"entity": "Bert"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"script": "birthday-march-on-own-path-player",
			"entity": "%PLAYER%"
		},
		{
			"action": "SCREEN_FADE_OUT",
			"duration": 2000,
			"color": "#000000"
		}
	],
	"birthday-march-on-own-path": [
		{
			"action": "WALK_ENTITY_ALONG_GEOMETRY",
			"duration": 3000,
			"geometry": "%ENTITY_PATH%",
			"entity": "%SELF%"
		}
	],
	"birthday-march-on-own-path-player": [
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "WALK_ENTITY_TO_GEOMETRY",
			"duration": 300,
			"geometry": "hesitation-point",
			"entity": "%PLAYER%"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 400
		},
		{
			"action": "WALK_ENTITY_TO_GEOMETRY",
			"duration": 400,
			"geometry": "birthday-alfonso",
			"entity": "%PLAYER%"
		},
		{
			"action": "WALK_ENTITY_ALONG_GEOMETRY",
			"duration": 3500,
			"geometry": "birthday-alfonso",
			"entity": "%PLAYER%"
		}
	]
}
