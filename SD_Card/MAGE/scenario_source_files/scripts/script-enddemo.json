{
	"earthquake": [
		{
			"action": "SCREEN_FADE_OUT",
			"duration": 300,
			"color": "#FF0000"
		},
		{
			"action": "SCREEN_FADE_IN",
			"duration": 300,
			"color": "#FF0000"
		},
		{
			"action": "SET_SCREEN_SHAKE",
			"duration": 1400,
			"amplitude": 10,
			"frequency": 250
		}
	],
	"earthquake-setpiece": [
		{
			"action": "TELEPORT_CAMERA_TO_GEOMETRY",
			"geometry": "earthquake-setpiece-camera-spot"
		},
		{
			"action": "TELEPORT_ENTITY_TO_GEOMETRY",
			"entity": "Verthandi",
			"geometry": "earthquake-setpiece-verthandi-spot"
		},
		{
			"action": "TELEPORT_ENTITY_TO_GEOMETRY",
			"entity": "Marta",
			"geometry": "earthquake-setpiece-marta-spot"
		},
		{
			"action": "SCREEN_FADE_IN",
			"duration": 300,
			"color": "#000000"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Cleo",
			"script": "loiter1"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Verthandi",
			"script": "loiter2"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Marta",
			"script": "loiter3"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Cat",
			"script": "loiter4"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 1800
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Cleo",
			"script": "null_script"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Verthandi",
			"script": "null_script"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Marta",
			"script": "null_script"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Cat",
			"script": "null_script"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "Marta",
			"direction": "south"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "Cleo",
			"direction": "south"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "Cat",
			"direction": "south"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "Verthandi",
			"direction": "south"
		},
		{
			"action": "COPY_SCRIPT",
			"script": "earthquake"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 500
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Marta",
			"script": "marta-walk"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Cleo",
			"script": "loiter1"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Verthandi",
			"script": "loiter2"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Cat",
			"script": "loiter4"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 500
		},
		{
			"action": "SCREEN_FADE_OUT",
			"duration": 300,
			"color": "#000000"
		}
	],
	"marta-walk": [
		{
			"action": "WALK_ENTITY_TO_GEOMETRY",
			"entity": "Marta",
			"geometry": "earthquake-setpiece-marta-walk",
			"duration": 900
		}
	],
	"demoend-cutscene-move": [
		{
			"action": "TELEPORT_ENTITY_TO_GEOMETRY",
			"entity": "Alfonso",
			"geometry": "demoend-alfonso-point"
		},
		{
			"action": "TELEPORT_ENTITY_TO_GEOMETRY",
			"entity": "Bert",
			"geometry": "demoend-bert-point"
		},
		{
			"action": "TELEPORT_ENTITY_TO_GEOMETRY",
			"entity": "Jackob",
			"geometry": "demoend-jackob-point"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Marta",
			"script": "null_script"
		},
		{
			"action": "TELEPORT_ENTITY_TO_GEOMETRY",
			"entity": "Marta",
			"geometry": "demoend-marta-start"
		},
		{
			"action": "TELEPORT_ENTITY_TO_GEOMETRY",
			"entity": "Ram",
			"geometry": "demoend-beatrice-point",
			"doc": "for some reason, teleport doesn't happen if it comes after changing entity type"
		},
		{
			"action": "TELEPORT_ENTITY_TO_GEOMETRY",
			"entity": "Helga",
			"geometry": "demoend-trekkie-point"
		},
		{
			"action": "SET_ENTITY_TYPE",
			"entity": "Ram",
			"entity_type": "old_lady",
			"doc": "The part of Beatrice will be played by Ram in this episode"
		},
		{
			"action": "SET_ENTITY_TYPE",
			"entity": "Helga",
			"entity_type": "trekkie",
			"doc": "The part of Trekkie will be played by Helga in this episode"
		},
		{
			"action": "TELEPORT_ENTITY_TO_GEOMETRY",
			"entity": "%PLAYER%",
			"geometry": "demoend-player-point"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Ram",
			"script": "loiter1"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Helga",
			"script": "loiter2"
		}
	],
	"jackob-pace": [
		{
			"action": "WALK_ENTITY_TO_GEOMETRY",
			"entity": "Jackob",
			"geometry": "demoend-jackob-pace",
			"duration": 500
		},
		{
			"action": "WALK_ENTITY_TO_GEOMETRY",
			"entity": "Jackob",
			"geometry": "demoend-jackob-point",
			"duration": 500
		},
		{
			"action": "WALK_ENTITY_TO_GEOMETRY",
			"entity": "Jackob",
			"geometry": "demoend-jackob-pace",
			"duration": 500
		},
		{
			"action": "WALK_ENTITY_TO_GEOMETRY",
			"entity": "Jackob",
			"geometry": "demoend-jackob-point",
			"duration": 500
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "Jackob",
			"direction": "south"
		}
	],
	"demoend-everyone-south": [
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Ram",
			"script": "null_script"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Marta",
			"script": "null_script"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Helga",
			"script": "null_script"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "%PLAYER%",
			"script": "null_script"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "Ram",
			"direction": "south"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "Marta",
			"direction": "south"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%PLAYER%",
			"direction": "south"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "Helga",
			"direction": "south"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "Bert",
			"direction": "south"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "Alfonso",
			"direction": "south"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "Jackob",
			"direction": "south"
		}
	],
	"demoend-everyone-look-at-jackob": [
		{
			"action": "SET_ENTITY_DIRECTION_TARGET_ENTITY",
			"entity": "Helga",
			"target_entity": "Jackob"
		},
		{
			"action": "SET_ENTITY_DIRECTION_TARGET_ENTITY",
			"entity": "Marta",
			"target_entity": "Jackob"
		},
		{
			"action": "SET_ENTITY_DIRECTION_TARGET_ENTITY",
			"entity": "Ram",
			"target_entity": "Jackob"
		},
		{
			"action": "SET_ENTITY_DIRECTION_TARGET_ENTITY",
			"entity": "%PLAYER%",
			"target_entity": "Jackob"
		},
		{
			"action": "SET_ENTITY_DIRECTION_TARGET_ENTITY",
			"entity": "Bert",
			"target_entity": "Jackob"
		}
	],
	"demoend-cutscene": [
		{
			"action": "SET_PLAYER_CONTROL",
			"bool_value": false
		},
		{
			"action": "COPY_SCRIPT",
			"script": "earthquake"
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-demoend-cutscene-intro1",
			"doc": "Good heavens! What was that?"
		},
		{
			"action": "SCREEN_FADE_OUT",
			"duration": 300,
			"color": "#000000"
		},
		{
			"action": "COPY_SCRIPT",
			"script": "earthquake-setpiece"
		},
		{
			"action": "COPY_SCRIPT",
			"script": "demoend-cutscene-move"
		},
		{
			"action": "SET_CAMERA_TO_FOLLOW_ENTITY",
			"entity": "%PLAYER%"
		},
		{
			"action": "SCREEN_FADE_IN",
			"duration": 300,
			"color": "#000000"
		},
		{
			"action": "WALK_ENTITY_TO_GEOMETRY",
			"entity": "Marta",
			"geometry": "demoend-marta-point",
			"duration": 600
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Marta",
			"script": "loiter3"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 600
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-demoend-cutscene-lasttime1",
			"doc": "This is just like last time!"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SET_ENTITY_DIRECTION_TARGET_ENTITY",
			"entity": "%PLAYER%",
			"target_entity": "Ram"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-demoend-cutscene-lasttime2",
			"doc": "Last time?"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Helga",
			"script": "null_script"
		},
		{
			"action": "SET_ENTITY_DIRECTION_TARGET_ENTITY",
			"entity": "Helga",
			"target_entity": "%PLAYER%"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-demoend-cutscene-lasttime3",
			"doc": "Last time Big Bad came!"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SET_ENTITY_DIRECTION_TARGET_ENTITY",
			"entity": "%PLAYER%",
			"target_entity": "Helga"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-demoend-cutscene-lasttime4",
			"doc": "Last time WHAT?"
		},
		{
			"action": "COPY_SCRIPT",
			"script": "demoend-everyone-south"
		},
		{
			"action": "COPY_SCRIPT",
			"script": "earthquake"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 600
		},
		{
			"action": "COPY_SCRIPT",
			"script": "demoend-everyone-look-at-jackob"
		},
		{
			"action": "COPY_SCRIPT",
			"script": "jackob-pace"
		},
		{
			"action": "SET_ENTITY_DIRECTION_TARGET_ENTITY",
			"entity": "%PLAYER%",
			"target_entity": "Alfonso"
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-demoend-cutscene-middle1",
			"doc": "I was afraid of this."
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SET_ENTITY_DIRECTION_TARGET_ENTITY",
			"entity": "Jackob",
			"target_entity": "%PLAYER%"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-demoend-cutscene-middle2",
			"doc": "I was afraid the Big Bad would notice."
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SET_ENTITY_DIRECTION_TARGET_ENTITY",
			"entity": "Alfonso",
			"target_entity": "Jackob"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-demoend-cutscene-middle3a",
			"doc": "Somehow the Big Bad knows?"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Marta",
			"script": "loiter2"
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-demoend-cutscene-middle3b",
			"doc": "But the Big Bad's been gone for ages!"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Marta",
			"script": "null_script"
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "north"
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-demoend-cutscene-middle3c",
			"doc": "What else would this earthquake mean?"
		},
		{
			"action": "SET_ENTITY_DIRECTION_TARGET_ENTITY",
			"entity": "Alfonso",
			"target_entity": "%PLAYER%"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "%PLAYER%",
			"script": "look-left-and-right-fast"
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-demoend-cutscene-middle4",
			"doc": "But I can't fight the Big Bad!"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "%PLAYER%",
			"script": "null_script"
		},
		{
			"action": "SET_ENTITY_DIRECTION_TARGET_ENTITY",
			"entity": "%PLAYER%",
			"target_entity": "Alfonso"
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-demoend-cutscene-middle5",
			"doc": "The other artifacts?"
		},
		{
			"action": "COPY_SCRIPT",
			"script": "demoend-everyone-south"
		},
		{
			"action": "COPY_SCRIPT",
			"script": "earthquake"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 900
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-demoend-cutscene-end1",
			"doc": "We have no choice. Go!"
		},
		{
			"action": "SCREEN_FADE_OUT",
			"duration": 1500,
			"color": "#000000"
		},
		{
			"action": "SCREEN_FADE_IN",
			"duration": 300,
			"color": "#000000"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 300
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-demoend-cutscene-end-demo1",
			"doc": "Next year!"
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Jackob",
			"script": "look-left-and-right"
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-demoend-cutscene-end-demo2",
			"doc": "Press XOR and MEM0 and...."
		},
		{
			"action": "SET_ENTITY_TICK_SCRIPT",
			"entity": "Jackob",
			"script": "null_script"
		},
		{
			"action": "SET_ENTITY_DIRECTION_TARGET_ENTITY",
			"entity": "Jackob",
			"target_entity": "%PLAYER%"
		},
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-demoend-cutscene-end-demo3",
			"doc": "Voila!"
		},
		{
			"action": "RUN_SCRIPT",
			"script": "debug-roll-credits"
		}
	],
	"loiter1": [
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "south"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 500
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "east"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 800
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "west"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 1200
		}
	],
	"loiter2": [
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "west"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 800
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "east"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 900
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "south"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 400
		}
	],
	"loiter3": [
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "south"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 600
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "north"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 900
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "east"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 200
		}
	],
	"loiter4": [
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "west"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 300
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "south"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 500
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "north"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 400
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%SELF%",
			"direction": "east"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 400
		}
	],
	"on_tick-credits": [
		{
			"action": "SET_HEX_EDITOR_CONTROL",
			"bool_value": false
		},
		{
			"action": "SET_ENTITY_DIRECTION",
			"entity": "%PLAYER%",
			"direction": "south"
		},
		{
			"action": "SET_CAMERA_TO_FOLLOW_ENTITY",
			"entity": "cameraman"
		},
		{
			"action": "TELEPORT_ENTITY_TO_GEOMETRY",
			"entity": "cameraman",
			"geometry": "credits_camera"
		},
		{
			"action": "SET_ENTITY_CURRENT_ANIMATION",
			"entity": "Goat",
			"byte_value": 1
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 1200
		},
		{
			"action": "WALK_ENTITY_ALONG_GEOMETRY",
			"duration": 55000,
			"geometry": "credits_camera",
			"entity": "cameraman"
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 600
		},
		{
			"action": "PLAY_ENTITY_ANIMATION",
			"entity": "Cat",
			"animation": 2,
			"play_count": 1
		},
		{
			"action": "NON_BLOCKING_DELAY",
			"duration": 300
		},
		{
			"action": "SCREEN_FADE_OUT",
			"duration": 1200,
			"color": "#000000"
		},
		{
			"action": "SET_WARP_STATE",
			"string": "exit_from-credits"
		},
		{
			"action": "SET_HEX_EDITOR_CONTROL",
			"bool_value": true
		},
		{
			"action": "RUN_SCRIPT",
			"script": "load_map-main"
		}
	],
	"debug-roll-credits-q": [
		{
			"action": "SHOW_DIALOG",
			"dialog": "dialog-debug-roll-credits-q",
			"doc": "Show credits?"
		}
	],
	"debug-roll-credits": [
		{
			"action": "LOAD_MAP",
			"map": "map-credits"
		}
	],
	"no_debug-roll-credits": [
		{
			"action": "SET_ENTITY_INTERACT_SCRIPT",
			"entity": "%SELF%",
			"script": "debug-roll-credits-q"
		}
	]
}
